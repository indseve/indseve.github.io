(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{608:function(s,a,t){s.exports=t.p+"assets/img/03-1.c5245f3f.jpg"},720:function(s,a,t){"use strict";t.r(a);var n=t(7),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[n("img",{attrs:{src:t(608),alt:"Image text"}})]),s._v(" "),n("h2",{attrs:{id:"安装samba实现文件共享"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装samba实现文件共享"}},[s._v("#")]),s._v(" 安装Samba实现文件共享")]),s._v(" "),n("h3",{attrs:{id:"第一部分-挂载硬盘。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第一部分-挂载硬盘。"}},[s._v("#")]),s._v(" 第一部分：挂载硬盘。")]),s._v(" "),n("p",[s._v("首先作者是将u盘作为盘储存数据，但是FAT格式支持不好，所以就先把u盘格式化成ext格式再进行其他操作")]),s._v(" "),n("h4",{attrs:{id:"_1-查看u盘的序号"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看u盘的序号"}},[s._v("#")]),s._v(" 1. 查看u盘的序号")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" -l\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("查看树莓派的存储数据")]),s._v(" "),n("h5",{attrs:{id:"_2-卸载该分区"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-卸载该分区"}},[s._v("#")]),s._v(" 2. 卸载该分区")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("umount")]),s._v(" /dev/sda1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h5",{attrs:{id:"_3-格式化为ext4分区"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-格式化为ext4分区"}},[s._v("#")]),s._v(" 3. 格式化为ext4分区")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" mkfs.ext4 /dev/sda1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"_4-测试u盘是否可用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-测试u盘是否可用"}},[s._v("#")]),s._v(" 4. 测试u盘是否可用")]),s._v(" "),n("p",[s._v("创建要挂载的文件夹并修改权限")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /samba\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /samba\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("查看硬盘设备目录")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" -l\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("确定最后一个是u盘，所以将u盘挂载到samba目录下")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#挂载硬盘")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" -t ext4 /dev/sda1 /samba\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /samba\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如果成功进入并 ls 读取到内容便可进行下一步")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(". 实现开机自动挂载到指定目录\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#编辑fstab让u盘能够自动开机挂载")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" /etc/fstab\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在后面添加一行内容")]),s._v("\n/dev/sda1 /samba ext4 defaults "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#保存重启即可生效")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"第二部分-安装samba服务-搭建nas系统"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#第二部分-安装samba服务-搭建nas系统"}},[s._v("#")]),s._v(" 第二部分：安装samba服务，搭建NAS系统")]),s._v(" "),n("h4",{attrs:{id:"_1-安装samba"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装samba"}},[s._v("#")]),s._v(" 1. 安装samba")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" samba samba-common-bin\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" netatalk （可选，用于支持AFP）\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" avahi-daemon（可选，用于支持网内的计算机自动发现）\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#### 2.配置conf文件")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("share"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n comment "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" share\n path "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /samba\n "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" only "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" no\n create mask "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0777\n directory mask "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 0777\n guest ok "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n browseable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n public "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n writable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#### 3.测试配置是否有错")]),s._v("\n```bash\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输入名称，检测配置是否有错")]),s._v("\ntestparm\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("h4",{attrs:{id:"_4-重启samba服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-重启samba服务"}},[s._v("#")]),s._v(" 4. 重启samba服务")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("smbd restart\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"_5-为samba添加用户名和密码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-为samba添加用户名和密码"}},[s._v("#")]),s._v(" 5. 为samba添加用户名和密码")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" smbpasswd -a pi\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"_6-现在已经能够在局域网内访问samba了-在网上邻居访问树莓派"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-现在已经能够在局域网内访问samba了-在网上邻居访问树莓派"}},[s._v("#")]),s._v(" 6. 现在已经能够在局域网内访问samba了，在网上邻居访问树莓派")]),s._v(" "),n("h4",{attrs:{id:"_7-测试能否远程在树莓派硬盘内添加文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-测试能否远程在树莓派硬盘内添加文件"}},[s._v("#")]),s._v(" 7. 测试能否远程在树莓派硬盘内添加文件")]),s._v(" "),n("p",[s._v("在win10系统下添加一个文件到树莓派的share文件夹下，在树莓派端查看")]),s._v(" "),n("p",[s._v("在树莓派端查看也有pi文件夹，证明远程创建文件成功！！！")])])}),[],!1,null,null,null);a.default=e.exports}}]);